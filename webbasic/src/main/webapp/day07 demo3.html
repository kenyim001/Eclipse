<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
	<style >
		p{
				border: 1px solid red;
				width:150px;
				height:30px;
				line-height:30px;
				text-align:center;
				font-size:20px;
		}
	</style>
	<script type>
		var id;
		function send() {
			if(id){
				//若定时器已启动动，就不要重复启动了
				return;
			}
			var 	p=document.getElementById("msg");
			p.innerHTML="发送中";		
			//启动定时器，3秒后显示已发送
			id=setTimeout(function(){
				p.innerHTML="发送成功";
				id=null;},3000);
			//显示正在发送
		
		}
		function cancel(){	
			//只有定时器正在启才可以将其停止
			if(id){
			clearTimeout(id);
			var p=document.getElementById("msg");
			p.innerHTML="撤回成功";
		//清空ID以便于下一次开始
			id=null;
			}
		}
		
	
	</script>
</head>
<body>
	<input type="button" value="发送" onclick="send();">
	<input type="button" value="撤回" onclick="cancel();">
	<p id="msg"></p>
</body>
</html>